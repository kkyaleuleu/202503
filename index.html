<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>LOVEME OFFICIAL SITE</title>
    <link rel="stylesheet" href="css/stylesheet.css">
    <link rel = "shortcut icon" href="images/favicon.ico">
    <style>
  ul {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
     }
    </style>
</head>

<body>
<!-- メニュー -->
<div class="header">
    <div style="text-align:center">
        <a href="index.html" class="anchor_link">
            <img src="mainpic/LOVEME_logo.jpg" height="90" alt="ロゴ">
        </a>

<!-- チェックボックス（非表示） -->
<input type="checkbox" id="menu-toggle">

<!-- ハンバーガーメニューアイコン -->
<label for="menu-toggle" class="hamburger-menu">
    <span></span>
    <span></span>
    <span></span>
</label>

<!-- メニューと背景のオーバーレイ -->
<div class="menu-overlay">
    <nav class="menu-content">
        <!-- ✕ボタン -->
        <label for="menu-toggle" class="close-menu">✕</label>
        <ul class="hum-nav">
            <li><a href="news.html">NEWS</a></li>
            <li><a href="profile.html">PROFILE</a></li>
            <li><a href="#">DISCOGRAPHY</a></li>
            <li><a href="#">SCHEDULE</a></li>
            <li><a href="shop.html">SHOP</a></li>
        </ul>
    </nav>
</div>

        <!-- メニューバー -->
            <nav class="main-nav">
                <ul>
                    <li><a href="news.html" class="anchor_link">NEWS</a></li>
                    <li><a href="profile.html" class="anchor_link">PROFILE</a></li>
                    <li><a href="#" class="anchor_link">DISCOGRAPHY</a></li>
                    <li><a href="#" class="anchor_link">SCHEDULE</a></li>
                    <li><a href="shop.html" class="anchor_link">SHOP</a></li>
                </ul>
            </nav>
        </div>
    </div>

        <!-- オーバーレイ画像 -->
    <div class="main">
        <div style="text-align:center">
            <div class="slideshow-container">
    <div class="slide fade">
        <img src="mainpic/ALL.JPG" alt="Slide 1" class="all-jpg">
    </div>
    <div class="slide fade">
        <img src="mainpic/main_natsumi.JPG" alt="Slide 2">
    </div>
    <div class="slide fade">
        <img src="mainpic/main_ami.JPG" alt="Slide 3">
    </div>
    <div class="slide fade">
        <img src="mainpic/main_chiho.JPG" alt="Slide 4">
    </div>
    <div class="slide fade">
        <img src="mainpic/main_karen.JPG" alt="Slide 5">
    </div>
    <div class="slide fade">
        <img src="mainpic/main_kana.JPG" alt="Slide 6">
    </div>
    <div class="slide fade">
        <img src="mainpic/main_rui.JPG" alt="Slide 7">
    </div>
</div>
        <!-- ファンクラブバナー（左中央） -->
    <div class="fixed-image">
        <a href="login.html">
        <img src="mainpic/fanclub_banner.jpg" alt="ファンクラブバナー" class="fanclub-banner">
        </a>
    </div>

<!-- ニュース一覧 -->
    <script src="login.js"></script>
            <a id="news"></a>
            <h2 class="news_ttl">NEWS</h2>
            <ul id="latest-news" class="news-list"></ul>

            <a href="news.html" class="more-news">VIEW MORE >> </a>

<!-- 動画 -->
<section class="video">
    <h2 class="sub_ttl2">MUSIC VIDEO</h2>
    <div class="video-slider-wrapper">
        <button class="prev">&#10094;</button>
        <div class="video-slider">
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/e5Z73z9E6S0" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/gf3eFgYf2K8" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/hzGiU8LWBbY" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
        <button class="next">&#10095;</button>
    </div>
</section>

      <footer>
        <div class="footer">
        <div style="text-align:center">
            <a href="index.html" class="anchor_link">
                <img src="mainpic/LOVEME_logo.jpg" height="90" alt="ロゴ">
            </a>
        </div>
        </div>
        <nav class="sns-nav">
                <ul>
                    <li><a href="https://x.com/LOVEME_idol"><img src="mainpic/logo-black.png" height="30" alt="X"></a></li>
                    <li><a href="#"><img src="mainpic/Instagram_Glyph_Black.png" height="30" alt="Instagram"></a></li>
                    <li><a href="https://youtube.com/@loveme-sx4il?si=_6kouY-TEkoKa0Qe"><img src="mainpic/youtube_social_icon_dark.png" height="30" alt="youtube"></a></li>
                </ul>
        </nav>
        <nav class="another-nav">
                <ul>
                    <li><a href="#" class="anchor_link">FAQ</a></li>
                    <li><a href="# class="anchor_link">会員規約</a></li>
                    <li><a href="#" class="anchor_link">プライバシーポリシー</a></li>
                    <li><a href="#" class="anchor_link">特定商取引法</a></li>
                </ul>
        </nav>
        <p class="copyright">&copy; Copyright LOVEME. All Rights Reserved</p>

       </footer>

    <!-- JavaScript はここにまとめる -->
    <script>

// ニュース
    document.addEventListener('DOMContentLoaded', () => {
        console.log("ページ読み込み完了！");
        
        let moreNews = document.querySelector('.more-news');
        console.log("more-newsの要素:", moreNews);

// ニュースを取得する処理
        fetch('news.html')
            .then(response => response.text())
            .then(html => {
                let parser = new DOMParser();
                let doc = parser.parseFromString(html, 'text/html');
                let newsItems = doc.querySelectorAll('.news-list .item');

                let latestNews = document.getElementById('latest-news');
                for (let i = 0; i < Math.min(3, newsItems.length); i++) {
                    latestNews.appendChild(newsItems[i].cloneNode(true));
                }

                // 「view more」が消えてたら追加し直す
                setTimeout(() => {
                    let moreNews = document.querySelector('.more-news');
                    if (!moreNews) {
                        console.log('「view more」が消えてるので復活させる！');

                        let newLink = document.createElement('a');
                        newLink.href = 'news.html';
                        newLink.className = 'more-news';
                        newLink.textContent = 'view more >>';

                        latestNews.insertAdjacentElement('afterend', newLink);
                    } else {
                        console.log('「view more」はちゃんとある！');
                    }
                }, 500);
            })
            .catch(error => console.error('ニュースを取得できませんでした:', error));

        // ===== オーバーレイ画像のスライドショー処理 =====
        let slideIndex = 0;

        function showSlides() {
            let slides = document.querySelectorAll(".slide");
            slides.forEach(slide => slide.style.display = "none");

            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1; }

            slides[slideIndex - 1].style.display = "block";
            setTimeout(showSlides, 4000); // 4秒ごとに切り替え
        }

        showSlides(); // 初回実行
    });

// ===== Music videoのスライドショー処理 =====
document.addEventListener('DOMContentLoaded', () => {
    const slider = document.querySelector('.video-slider');
    const slides = document.querySelectorAll('.video-container');
    const totalSlides = slides.length;
    let currentIndex = 0;  // 初期表示は「3→1→2」の順番

    // 最初の表示順を設定
    function setInitialOrder() {
        const initialOrder = [2, 0, 1];  // 最初の表示順: 3→1→2
        for (let i = 0; i < totalSlides; i++) {
            slides[i].style.order = initialOrder[i];
        }
    }

    // 初期位置を設定
    setInitialOrder();

    // スライドの配置を設定
    function updateSlide() {
        const initialOrder = [2, 0, 1];  // 右矢印、左矢印の動作に合わせて順番を変更
        for (let i = 0; i < totalSlides; i++) {
            slides[i].style.order = initialOrder[(i + currentIndex) % totalSlides];
        }
    }

    // 前の動画へスライド（左矢印）
    document.querySelector('.prev').addEventListener('click', () => {
        currentIndex = (currentIndex === 0) ? totalSlides - 1 : currentIndex - 1; // 左矢印で逆方向
        updateSlide();
    });

    // 次の動画へスライド（右矢印）
    document.querySelector('.next').addEventListener('click', () => {
        currentIndex = (currentIndex === totalSlides - 1) ? 0 : currentIndex + 1; // 右矢印で順方向
        updateSlide();
    });
});


    </script>

</body>
</html>
